<!DOCTYPE html>
<html lang="en">
  <%- include('header'); -%>

  <body>
    <%- include('nav'); -%>

    <section class="hero contact-hero">
      <div class="hero-overlay"></div>
      <div class="container">
        <div class="hero-content">
          <h2>Login</h2>
          <p>Access your saved properties and account settings.</p>
        </div>
      </div>
    </section>

    <section class="section-about">
      <div class="container">
        <div class="auth-card">
          <div class="auth-header">
            <h2>Welcome back</h2>
            <p>Sign in to access saved properties, bookings and your dashboard.</p>
          </div>
          <% if (successMessage) { %>
            <div class="alert-success"><%= successMessage %></div>
          <% } %>
          <% if (typeof error !== 'undefined' && error) { %>
            <div class="alert-error"><%= error %></div>
          <% } %>
          <form action="/login" method="post" class="login-form">
            <div class="form-group">
              <label class="input-label" for="email">Email</label>
              <input class="input-field" type="email" placeholder="you@example.com" name="email" id="email" required aria-required="true" />
            </div>
            <div class="form-group" style="position:relative;">
              <label class="input-label" for="password">Password</label>
              <input class="input-field" type="password" placeholder="Your password" name="password" id="password" required aria-required="true" />
              <span class="password-toggle" id="togglePassword" style="position:absolute; right:12px; top:36px;">Show</span>
            </div>
            <div class="form-footer">
              <label class="remember"><input type="checkbox" name="remember" /> Remember me</label>
              <a href="/forgot" class="helper-text">Forgot password?</a>
            </div>
            <div style="margin-top:1rem;">
              <button class="btn-primary btn-full" type="submit">Login</button>
            </div>
          </form>

          <div class="auth-links">Don't have an account? <a href="/register">Register</a></div>
        </div>
      </div>
    </section>

    <%- include('footer'); -%>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const toggle = document.getElementById('togglePassword');
        const input = document.getElementById('password');
        if (toggle && input) {
          toggle.addEventListener('click', function () {
            if (input.type === 'password') { input.type = 'text'; toggle.textContent = 'Hide'; } else { input.type = 'password'; toggle.textContent = 'Show'; }
          });
        }
      });
    </script>
  </body>
</html>