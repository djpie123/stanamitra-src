<!DOCTYPE html>
<html lang="en">
  <%- include('header'); -%>

  <body>
    <%- include('nav'); -%>

    <section class="hero contact-hero">
      <div class="hero-overlay"></div>
      <div class="container">
        <div class="hero-content">
          <h2>Create account</h2>
          <p>Sign up to save your favorite properties and list your own.</p>
        </div>
      </div>
    </section>

    <section class="section-about">
      <div class="container">
        <div class="myForm">
          <% if (successMessage) { %>
            <div class="alert-success"><%= successMessage %></div>
          <% } %>
          <% if (typeof error !== 'undefined' && error) { %>
            <div class="alert-error"><%= error %></div>
          <% } %>
          <form action="/register" method="post" class="register-form">
            <div class="input-container">
              <input class="input-field" type="text" placeholder="Full name" name="name" required />
            </div>
            <div class="input-container">
              <input class="input-field" type="email" placeholder="Email" name="email" required />
            </div>
            <div class="input-container">
              <input class="input-field" type="password" placeholder="Password" name="password" required minlength="6" />
            </div>
            <div class="input-container">
              <input class="input-field" type="password" placeholder="Confirm password" name="confirmPassword" required minlength="6" />
            </div>
            <button class="btn-primary" type="submit">Create Account</button>
          </form>

          <p style="margin-top: 1rem;">Already have an account? <a href="/login">Login</a></p>
        </div>
      </div>
    </section>

    <%- include('footer'); -%>

    <script>
      
      document.addEventListener('DOMContentLoaded', function () {
        const form = document.querySelector('.register-form');
        if (!form) return;
        form.addEventListener('submit', function (e) {
          const password = form.querySelector('[name="password"]').value;
          const confirm = form.querySelector('[name="confirmPassword"]').value;
          if (password !== confirm) {
            e.preventDefault();
            alert('Passwords do not match');
          }
        });
      });
    </script>
  </body>
</html>